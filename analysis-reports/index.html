<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git 仓库分析报告 - Current Repository</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
    </button>

    
    <nav class="sidebar-floating">
        <div class="sidebar-header">
            <h3>📊 分析维度</h3>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item active" data-section="overview">
                <i class="icon">📈</i>
                <span>项目概览</span>
            </li>
            <li class="menu-item" data-section="contributors">
                <i class="icon">👥</i>
                <span>贡献者分析</span>
            </li>
            <li class="menu-item" data-section="activity">
                <i class="icon">⏰</i>
                <span>活动时间分析</span>
            </li>
            <li class="menu-item" data-section="branch">
                <i class="icon">🌲</i>
                <span>分支结构</span>
            </li>
            <li class="menu-item" data-section="health">
                <i class="icon">🏥</i>
                <span>代码健康</span>
            </li>
            <li class="menu-item" data-section="ai">
                <i class="icon">🤖</i>
                <span>AI 分析</span>
            </li>
            <li class="menu-item disabled" data-section="security">
                <i class="icon">🔒</i>
                <span>安全分析</span>
                <small>即将上线</small>
            </li>
            <li class="menu-item disabled" data-section="performance">
                <i class="icon">⚡</i>
                <span>性能分析</span>
                <small>即将上线</small>
            </li>
            <li class="menu-item disabled" data-section="dependencies">
                <i class="icon">📦</i>
                <span>依赖分析</span>
                <small>即将上线</small>
            </li>
            <li class="menu-item disabled" data-section="quality">
                <i class="icon">⭐</i>
                <span>代码质量</span>
                <small>即将上线</small>
            </li>
        </ul>
    </nav>

    
    <main class="main-content">
            <header class="header">
                <h1>Git 仓库分析报告</h1>
                <div class="subtitle">
                    <h2>Current Repository</h2>
                    <p>生成时间 2025-07-25 14:01:51</p>
                </div>
            </header>

            
            <section id="overview-section" class="content-section">
                <div class="section-header">
                    <h2>📈 项目概览</h2>
                    <p>项目的基本统计信息和整体概况</p>
                </div>

                <div class="summary">
                    <div class="stat-card">
                        <h3>总提交数</h3>
                        <div class="stat-number">17</div>
                    </div>
                    <div class="stat-card">
                        <h3>贡献者</h3>
                        <div class="stat-number">2</div>
                    </div>
                    <div class="stat-card">
                        <h3>活跃天数</h3>
                        <div class="stat-number">3</div>
                    </div>
                    <div class="stat-card">
                        <h3>活跃周期</h3>
                        <div class="stat-text">2025-07-23 to 2025-07-25</div>
                    </div>
                </div>

                <div class="files-section">
                    <h3>修改最多的文件</h3>
                    <div class="files-grid">
                        
                        <div class="file-item">
                            <span class="file-name">internal/report/web.go</span>
                            <span class="file-count">7 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">analysis-reports/index.html</span>
                            <span class="file-count">5 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">cmd/root.go</span>
                            <span class="file-count">5 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">internal/report/templates/styles.css</span>
                            <span class="file-count">5 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">internal/report/templates/report.html</span>
                            <span class="file-count">5 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">go.sum</span>
                            <span class="file-count">5 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">internal/ai/ai.go</span>
                            <span class="file-count">4 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">go.mod</span>
                            <span class="file-count">4 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">analysis-reports/styles.css</span>
                            <span class="file-count">4 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">internal/analyzer/analyzer.go</span>
                            <span class="file-count">4 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">internal/i18n/messages.go</span>
                            <span class="file-count">4 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">README.md</span>
                            <span class="file-count">3 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">main.go</span>
                            <span class="file-count">3 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">analysis-reports/charts.js</span>
                            <span class="file-count">3 次修改</span>
                        </div>
                        
                        <div class="file-item">
                            <span class="file-name">internal/report/templates/charts.js</span>
                            <span class="file-count">3 次修改</span>
                        </div>
                        
                    </div>
                </div>
            </section>

            
            <section id="contributors-section" class="content-section">
                <div class="section-header">
                    <h2>👥 贡献者分析</h2>
                    <p>开发者贡献统计和活跃度分析</p>
                </div>
                <div class="chart-container">
                    <h3>主要贡献者</h3>
                    <canvas id="authorsChart"></canvas>
                    <div class="authors-list">
                        
                        <div class="author-item">
                            
                            <a href="developer-houjiaqi.html" class="author-name-link">
                                <span class="author-name">houjiaqi</span>
                            </a>
                            
                            <span class="author-stats">16 次提交 (94.1%)</span>
                            <span class="author-changes">+16572/-2061</span>
                        </div>
                        
                        <div class="author-item">
                            
                            <a href="developer-Jachy.html" class="author-name-link">
                                <span class="author-name">Jachy</span>
                            </a>
                            
                            <span class="author-stats">1 次提交 (5.9%)</span>
                            <span class="author-changes">+1/-1</span>
                        </div>
                        
                    </div>
                </div>
            </section>

            
            <section id="activity-section" class="content-section">
                <div class="section-header">
                    <h2>⏰ 活动时间分析</h2>
                    <p>提交活动的时间模式和频率分析</p>
                </div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <h3>提交时间线</h3>
                        <canvas id="timelineChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>每小时活动</h3>
                        <canvas id="hourlyChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>每日活动</h3>
                        <canvas id="dailyChart"></canvas>
                    </div>
                </div>
            </section>

            
            <section id="branch-section" class="content-section">
                <div class="section-header">
                    <h2>🌲 分支结构</h2>
                    <p>Git分支和提交的可视化分析</p>
                </div>
                
                <div class="chart-container commit-forest-container">
                    <h3>🌲 提交森林图</h3>
                    <div class="forest-controls">
                        <button id="zoomIn" class="forest-btn">🔍+</button>
                        <button id="zoomOut" class="forest-btn">🔍-</button>
                        <button id="resetView" class="forest-btn">⟲</button>
                        <select id="branchFilter" class="forest-select">
                            <option value="all">所有分支</option>
                            
                            <option value="main">main (17)</option>
                            
                        </select>
                    </div>
                    <div class="forest-legend">
                        <div class="legend-item">
                            <div class="legend-dot commit-dot"></div>
                            <span>普通提交</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot merge-dot"></div>
                            <span>合并提交</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line main-line"></div>
                            <span>主分支</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line feature-line"></div>
                            <span>功能分支</span>
                        </div>
                    </div>
                    <svg id="commitForest" class="commit-forest-svg"></svg>
                    <div class="forest-info">
                        <div class="info-panel" id="commitInfo" style="display: none;">
                            <div id="commitDetails"></div>
                        </div>
                    </div>
                </div>
                
            </section>

            
            <section id="health-section" class="content-section">
                <div class="section-header">
                    <h2>🏥 代码健康</h2>
                    <p>代码质量评估、技术债务和重构建议</p>
                </div>
                
                <div class="health-header">
                    <div class="health-score">
                        <span class="score-label">健康评分:</span>
                        <span class="score-value">100/100</span>
                    </div>
                </div>

                <div class="health-summary">
                    <p>代码健康等级：健康 (100.00分) - 代码质量良好，维护性强。发现0个技术债务热点，0个重构信号，0个代码集中度问题。</p>
                </div>

                <div class="health-cards">
                    

                    

                    

                    
                </div>
                
            </section>

            
            <section id="ai-section" class="content-section">
                <div class="section-header">
                    <h2>🤖 AI 分析</h2>
                    <p>基于人工智能的代码模式和开发习惯分析</p>
                </div>
                
                <div class="empty-section">
                    <p>AI分析功能暂时不可用，请检查配置</p>
                </div>
                
            </section>

            
            <section id="security-section" class="content-section">
                <div class="section-header">
                    <h2>🔒 安全分析</h2>
                    <p>代码安全漏洞检测和风险评估</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">🚧</div>
                        <h3>功能开发中</h3>
                        <p>安全分析功能正在开发中，敬请期待！</p>
                        <ul class="feature-list">
                            <li>• 安全漏洞扫描</li>
                            <li>• 敏感信息检测</li>
                            <li>• 依赖安全分析</li>
                            <li>• 安全最佳实践建议</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="performance-section" class="content-section">
                <div class="section-header">
                    <h2>⚡ 性能分析</h2>
                    <p>代码性能热点和优化建议</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">🚧</div>
                        <h3>功能开发中</h3>
                        <p>性能分析功能正在开发中，敬请期待！</p>
                        <ul class="feature-list">
                            <li>• 性能热点识别</li>
                            <li>• 算法复杂度分析</li>
                            <li>• 内存使用优化</li>
                            <li>• 性能回归检测</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="dependencies-section" class="content-section">
                <div class="section-header">
                    <h2>📦 依赖分析</h2>
                    <p>项目依赖关系和版本管理分析</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">🚧</div>
                        <h3>功能开发中</h3>
                        <p>依赖分析功能正在开发中，敬请期待！</p>
                        <ul class="feature-list">
                            <li>• 依赖树可视化</li>
                            <li>• 版本兼容性检查</li>
                            <li>• 过时依赖检测</li>
                            <li>• 许可证合规分析</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="quality-section" class="content-section">
                <div class="section-header">
                    <h2>⭐ 代码质量</h2>
                    <p>代码风格、复杂度和可维护性评估</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">🚧</div>
                        <h3>功能开发中</h3>
                        <p>代码质量分析功能正在开发中，敬请期待！</p>
                        <ul class="feature-list">
                            <li>• 代码风格检查</li>
                            <li>• 复杂度分析</li>
                            <li>• 重复代码检测</li>
                            <li>• 可维护性评分</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>

    <script src="charts.js"></script>
    <script>
        const reportData = {
            authors: [{"Name":"houjiaqi","CommitCount":16,"Additions":16572,"Deletions":2061,"Percentage":94.11764705882352},{"Name":"Jachy","CommitCount":1,"Additions":1,"Deletions":1,"Percentage":5.88235294117647}],
            hourly: [{"Hour":9,"Count":2},{"Hour":10,"Count":1},{"Hour":11,"Count":1},{"Hour":14,"Count":1},{"Hour":15,"Count":1},{"Hour":16,"Count":7},{"Hour":17,"Count":4}],
            daily: [{"Day":"周五","Count":3},{"Day":"周四","Count":7},{"Day":"周三","Count":7}],
            timeline: [{"Date":"2025-07-23","Count":7},{"Date":"2025-07-24","Count":7},{"Date":"2025-07-25","Count":3}]
            ,
            branchData: {"branches":[{"name":"main","commit_count":17,"first_commit":"2025-07-23T16:07:35+08:00","last_commit":"2025-07-25T11:11:07+08:00","is_active":true,"main_authors":["houjiaqi \u003choujq@engipower.com\u003e","Jachy \u003c154654738@qq.com\u003e"]}],"commit_graph":[{"hash":"3ee3bcc9a049a817c9bb854912f5cd862c2be068","short_hash":"3ee3bcc9","message":"Initial commit: Git log analyzer tool with AI analysis support","author":"houjiaqi","date":"2025-07-23T16:07:35+08:00","branch":"main","parents":null,"children":["347a59af727e3731f70f6fd327642c7820ab71e9"],"x":0,"y":0,"is_merge":false},{"hash":"347a59af727e3731f70f6fd327642c7820ab71e9","short_hash":"347a59af","message":"Add comprehensive unit tests for git and analyzer packages","author":"houjiaqi","date":"2025-07-23T16:08:41+08:00","branch":"main","parents":["3ee3bcc9a049a817c9bb854912f5cd862c2be068"],"children":["458fcfe68ae50e4581d2c0bba9b88409df49adf0"],"x":0,"y":1,"is_merge":false},{"hash":"458fcfe68ae50e4581d2c0bba9b88409df49adf0","short_hash":"458fcfe6","message":"Update documentation with usage examples","author":"houjiaqi","date":"2025-07-23T16:08:50+08:00","branch":"main","parents":["347a59af727e3731f70f6fd327642c7820ab71e9"],"children":["119bfd25647443ce34690da7e42825eafd829b94"],"x":0,"y":2,"is_merge":false},{"hash":"119bfd25647443ce34690da7e42825eafd829b94","short_hash":"119bfd25","message":"Optimize build process with size reduction flags","author":"houjiaqi","date":"2025-07-23T16:08:57+08:00","branch":"main","parents":["458fcfe68ae50e4581d2c0bba9b88409df49adf0"],"children":["7a1e6b43f9926e1be7b6bfdc6b96bc21d9ab4392"],"x":0,"y":3,"is_merge":false},{"hash":"7a1e6b43f9926e1be7b6bfdc6b96bc21d9ab4392","short_hash":"7a1e6b43","message":"Add demonstration script showcasing all tool features","author":"houjiaqi","date":"2025-07-23T16:09:55+08:00","branch":"main","parents":["119bfd25647443ce34690da7e42825eafd829b94"],"children":["7132ce16cbcc18acbe13faece1ad3a920b48834a"],"x":0,"y":4,"is_merge":false},{"hash":"7132ce16cbcc18acbe13faece1ad3a920b48834a","short_hash":"7132ce16","message":"Add comprehensive project summary and completion documentation","author":"houjiaqi","date":"2025-07-23T16:10:42+08:00","branch":"main","parents":["7a1e6b43f9926e1be7b6bfdc6b96bc21d9ab4392"],"children":[],"x":0,"y":5,"is_merge":false},{"hash":"4a100f38b9387c3ebc75f368a4535f7f0fbdc70a","short_hash":"4a100f38","message":"Major enhancement: Add web report generation, env configuration, and improved AI settings\n\n- Add env.sample for environment configuration guide","author":"houjiaqi","date":"2025-07-23T16:31:15+08:00","branch":"main","parents":null,"children":[],"x":0,"y":6,"is_merge":false},{"hash":"5374d5b5b539085acef6f91577d86d95722058e7","short_hash":"5374d5b5","message":"Fix web report data display issues and organize test suite\n\n🔧 Fixed Issues:","author":"houjiaqi","date":"2025-07-24T09:45:43+08:00","branch":"main","parents":null,"children":["c4b58164412c73a2d8f40def75d2dfe955beeb9f"],"x":0,"y":7,"is_merge":false},{"hash":"c4b58164412c73a2d8f40def75d2dfe955beeb9f","short_hash":"c4b58164","message":"feat: 实现基本功能","author":"houjiaqi","date":"2025-07-24T14:16:15+08:00","branch":"main","parents":["5374d5b5b539085acef6f91577d86d95722058e7"],"children":[],"x":0,"y":8,"is_merge":false},{"hash":"41ec9c1acd531f4dfae7940ec54710cc83a5c959","short_hash":"41ec9c1a","message":"feat: Add comprehensive Git repository analysis report with AI insights\n\n- Created index.html for the analysis report with sections for summary, AI analysis, charts, and most modified files.","author":"houjiaqi","date":"2025-07-24T15:30:18+08:00","branch":"main","parents":null,"children":["f64e447e019ea02e48835a27cb0ce0776975c87b"],"x":0,"y":9,"is_merge":false},{"hash":"f64e447e019ea02e48835a27cb0ce0776975c87b","short_hash":"f64e447e","message":"Add Git repository analysis report with statistics on commits, contributors, and file modifications","author":"houjiaqi","date":"2025-07-24T17:01:42+08:00","branch":"main","parents":["41ec9c1acd531f4dfae7940ec54710cc83a5c959"],"children":[],"x":0,"y":10,"is_merge":false},{"hash":"260ed716ea051d2549cbdf9d55650d75a7ce4277","short_hash":"260ed716","message":"feat: Implement comprehensive code health analysis\n\n- Added a new module for code health analysis in `internal/health`, including metrics for technical debt hotspots, stability indicators, refactoring signals, and code concentration issues.","author":"houjiaqi","date":"2025-07-24T17:30:35+08:00","branch":"main","parents":null,"children":["51f4fe8f8941f147bea9f155236a4584dfd911bc"],"x":0,"y":11,"is_merge":false},{"hash":"51f4fe8f8941f147bea9f155236a4584dfd911bc","short_hash":"51f4fe8f","message":"update","author":"Jachy","date":"2025-07-24T17:36:32+08:00","branch":"main","parents":["260ed716ea051d2549cbdf9d55650d75a7ce4277"],"children":["4135e5b3beca6b9f8117fe215f810882faad6c24"],"x":0,"y":12,"is_merge":false},{"hash":"4135e5b3beca6b9f8117fe215f810882faad6c24","short_hash":"4135e5b3","message":"feat: 优化项目目录结构，集中管理技术说明文档","author":"houjiaqi","date":"2025-07-24T17:38:19+08:00","branch":"main","parents":["51f4fe8f8941f147bea9f155236a4584dfd911bc"],"children":[],"x":0,"y":13,"is_merge":false},{"hash":"e64cd741c5ee767d4ff25e3611f3a860f9571c99","short_hash":"e64cd741","message":"feat: Enhance git log analysis with progress tracking and AI integration\n\n- Implemented a progress tracker for the git log analysis process, providing real-time feedback on each step.","author":"houjiaqi","date":"2025-07-25T09:28:18+08:00","branch":"main","parents":null,"children":[],"x":0,"y":14,"is_merge":false},{"hash":"78e60a4ea15c06fc0cbc9f5a3157d5daa4ccc00a","short_hash":"78e60a4e","message":"feat: Implement developer profile analysis and web navigation features\n\n- Added developer style profile analysis based on Git commit history, including work style, coding patterns, collaboration style, technical features, and personality traits.","author":"houjiaqi","date":"2025-07-25T10:19:43+08:00","branch":"main","parents":null,"children":[],"x":0,"y":15,"is_merge":false},{"hash":"6c203b176381eca9a23df6fb0f5080e06bc0124b","short_hash":"6c203b17","message":"feat: Add commit forest visualization and developer style reports\n\n- Integrated D3.js for commit forest visualization in report.html.","author":"houjiaqi","date":"2025-07-25T11:11:07+08:00","branch":"main","parents":null,"children":[],"x":0,"y":16,"is_merge":false}],"merge_patterns":[]}
            
        };
        console.log('Report data:', reportData);
        
        
        initCharts(reportData);
        
        
        
        initCommitForest(reportData.branchData);
        

        
        function toggleMobileMenu() {
            const sidebar = document.querySelector('.sidebar-floating');
            sidebar.classList.toggle('mobile-open');
        }

        
        document.addEventListener('DOMContentLoaded', function() {
            const menuItems = document.querySelectorAll('.menu-item');
            const sections = document.querySelectorAll('.content-section');

            
            function scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }

            
            function updateActiveMenuItem(activeSection) {
                menuItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('data-section') === activeSection) {
                        item.classList.add('active');
                    }
                });
            }

            
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (this.classList.contains('disabled')) {
                        return;
                    }

                    const targetSection = this.getAttribute('data-section') + '-section';
                    scrollToSection(targetSection);
                    updateActiveMenuItem(this.getAttribute('data-section'));
                });
            });

            
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;
                        const sectionName = sectionId.replace('-section', '');
                        updateActiveMenuItem(sectionName);
                    }
                });
            }, observerOptions);

            
            sections.forEach(section => {
                observer.observe(section);
            });

            
            if (sections.length > 0) {
                updateActiveMenuItem('overview');
            }
        });
    </script>
</body>
</html>
