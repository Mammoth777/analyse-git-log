<!DOCTYPE html>
<html lang="{{if eq .Language "en"}}en{{else}}zh-CN{{end}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Messages.ReportTitle}} - {{.ProjectName}}</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <!-- ç§»åŠ¨ç«¯èœå•åˆ‡æ¢æŒ‰é’® -->
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- æç®€æ‚¬æµ®å·¦ä¾§èœå• -->
    <nav class="sidebar-floating">
        <div class="sidebar-header">
            <div class="logo">ğŸ“Š</div>
            <h3>Git åˆ†æ</h3>
        </div>
        
        <!-- åŸºç¡€åˆ†æ -->
        <div class="menu-group">
            <div class="group-label">åŸºç¡€åˆ†æ</div>
            <ul class="sidebar-menu">
                <li class="menu-item active" data-section="overview">
                    <i class="icon">ğŸ“ˆ</i>
                    <span>é¡¹ç›®æ¦‚è§ˆ</span>
                </li>
                <li class="menu-item" data-section="contributors">
                    <i class="icon">ğŸ‘¥</i>
                    <span>è´¡çŒ®è€…åˆ†æ</span>
                </li>
                <li class="menu-item" data-section="activity">
                    <i class="icon">â°</i>
                    <span>æ´»åŠ¨åˆ†æ</span>
                </li>
                <li class="menu-item" data-section="branch">
                    <i class="icon">ğŸŒ²</i>
                    <span>åˆ†æ”¯ç»“æ„</span>
                </li>
            </ul>
        </div>

        <!-- ä»£ç è´¨é‡ -->
        <div class="menu-group">
            <div class="group-label">ä»£ç è´¨é‡</div>
            <ul class="sidebar-menu">
                <li class="menu-item" data-section="health">
                    <i class="icon">ğŸ¥</i>
                    <span>ä»£ç å¥åº·</span>
                </li>
                <li class="menu-item disabled" data-section="quality">
                    <i class="icon">âœ¨</i>
                    <span>è´¨é‡è¯„ä¼°</span>
                    <small class="coming-soon-tag">å¼€å‘ä¸­</small>
                </li>
                <li class="menu-item disabled" data-section="debt">
                    <i class="icon">ğŸ”§</i>
                    <span>æŠ€æœ¯å€ºåŠ¡</span>
                    <small class="coming-soon-tag">å¼€å‘ä¸­</small>
                </li>
            </ul>
        </div>

        <!-- æ™ºèƒ½åˆ†æ -->
        <div class="menu-group">
            <div class="group-label">æ™ºèƒ½åˆ†æ</div>
            <ul class="sidebar-menu">
                <li class="menu-item" data-section="ai">
                    <i class="icon">ğŸ¤–</i>
                    <span>AI æ´å¯Ÿ</span>
                </li>
                <li class="menu-item disabled" data-section="patterns">
                    <i class="icon">ğŸ”</i>
                    <span>å¼€å‘æ¨¡å¼</span>
                    <small class="coming-soon-tag">å¼€å‘ä¸­</small>
                </li>
                <li class="menu-item disabled" data-section="collaboration">
                    <i class="icon">ğŸ¤</i>
                    <span>åä½œåˆ†æ</span>
                    <small class="coming-soon-tag">å¼€å‘ä¸­</small>
                </li>
            </ul>
        </div>

        <!-- å®‰å…¨ä¸æ€§èƒ½ -->
        <div class="menu-group">
            <div class="group-label">å®‰å…¨ä¸æ€§èƒ½</div>
            <ul class="sidebar-menu">
                <li class="menu-item disabled" data-section="security">
                    <i class="icon">ğŸ”’</i>
                    <span>å®‰å…¨åˆ†æ</span>
                    <small class="coming-soon-tag">è®¡åˆ’ä¸­</small>
                </li>
                <li class="menu-item disabled" data-section="performance">
                    <i class="icon">âš¡</i>
                    <span>æ€§èƒ½åˆ†æ</span>
                    <small class="coming-soon-tag">è®¡åˆ’ä¸­</small>
                </li>
                <li class="menu-item disabled" data-section="dependencies">
                    <i class="icon">ğŸ“¦</i>
                    <span>ä¾èµ–åˆ†æ</span>
                    <small class="coming-soon-tag">è®¡åˆ’ä¸­</small>
                </li>
            </ul>
        </div>

        <!-- é«˜çº§åŠŸèƒ½ -->
        <div class="menu-group">
            <div class="group-label">é«˜çº§åŠŸèƒ½</div>
            <ul class="sidebar-menu">
                <li class="menu-item disabled" data-section="productivity">
                    <i class="icon">ğŸ“Š</i>
                    <span>ç”Ÿäº§åŠ›åˆ†æ</span>
                    <small class="coming-soon-tag">è§„åˆ’ä¸­</small>
                </li>
                <li class="menu-item disabled" data-section="learning">
                    <i class="icon">ğŸ“š</i>
                    <span>å­¦ä¹ æ›²çº¿</span>
                    <small class="coming-soon-tag">è§„åˆ’ä¸­</small>
                </li>
                <li class="menu-item disabled" data-section="timeline">
                    <i class="icon">ğŸ“…</i>
                    <span>æ—¶é—´è½´çƒ­åŠ›å›¾</span>
                    <small class="coming-soon-tag">è§„åˆ’ä¸­</small>
                </li>
            </ul>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
            <header class="header">
                <h1>{{.Messages.ReportTitle}}</h1>
                <div class="subtitle">
                    <h2>{{.ProjectName}}</h2>
                    <p>{{.Messages.GeneratedOn}} {{.GeneratedAt.Format "2006-01-02 15:04:05"}}</p>
                </div>
            </header>

            <!-- é¡¹ç›®æ¦‚è§ˆ -->
            <section id="overview-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ“ˆ é¡¹ç›®æ¦‚è§ˆ</h2>
                    <p>é¡¹ç›®çš„åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯å’Œæ•´ä½“æ¦‚å†µ</p>
                </div>

                <div class="summary">
                    <div class="stat-card">
                        <h3>{{.Messages.TotalCommits}}</h3>
                        <div class="stat-number">{{.Stats.TotalCommits}}</div>
                    </div>
                    <div class="stat-card">
                        <h3>{{.Messages.Contributors}}</h3>
                        <div class="stat-number">{{len .Stats.AuthorStats}}</div>
                    </div>
                    <div class="stat-card">
                        <h3>{{.Messages.ActiveDays}}</h3>
                        <div class="stat-number">{{.Stats.TimeStats.ActiveDays}}</div>
                    </div>
                    <div class="stat-card">
                        <h3>{{.Messages.ActivePeriod}}</h3>
                        <div class="stat-text">{{.Stats.TimeStats.FirstCommit.Format "2006-01-02"}} to {{.Stats.TimeStats.LastCommit.Format "2006-01-02"}}</div>
                    </div>
                </div>

                <div class="files-section">
                    <h3>{{.Messages.MostModifiedFiles}}</h3>
                    <div class="files-list">
                        {{range .FileData}}
                        <div class="file-bar">
                            <div class="file-bar-fill" data-count="{{.Count}}">
                                <span class="file-name">{{.Name}}</span>
                            </div>
                            <span class="file-count">{{.Count}} {{$.Messages.Modifications}}</span>
                        </div>
                        {{end}}
                    </div>
                </div>
            </section>

            <!-- è´¡çŒ®è€…åˆ†æ -->
            <section id="contributors-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ‘¥ è´¡çŒ®è€…åˆ†æ</h2>
                    <p>å¼€å‘è€…è´¡çŒ®ç»Ÿè®¡å’Œæ´»è·ƒåº¦åˆ†æ</p>
                </div>
                <div class="section-content">
                    <div class="contributors-layout">
                        <div class="contributors-chart">
                            <h3>{{.Messages.TopContributors}}</h3>
                            <canvas id="authorsChart"></canvas>
                        </div>
                        <div class="contributors-list">
                            <h3>è¯¦ç»†ç»Ÿè®¡</h3>
                            <div class="authors-list">
                                {{range .TopAuthors}}
                                <div class="author-item">
                                    <div class="author-info">
                                        {{if hasDeveloperProfile .Name $.DeveloperProfiles}}
                                        <a href="{{getDeveloperProfileLink .Name $.DeveloperProfiles}}" class="author-name-link">
                                            <span class="author-name">{{.Name}}</span>
                                        </a>
                                        {{else}}
                                        <span class="author-name">{{.Name}}</span>
                                        {{end}}
                                        <div class="author-metrics">
                                            <div class="metric">
                                                <span class="metric-label">æäº¤æ•°</span>
                                                <span class="metric-value">{{.CommitCount}}</span>
                                            </div>
                                            <div class="metric">
                                                <span class="metric-label">å æ¯”</span>
                                                <span class="metric-value">{{printf "%.1f" .Percentage}}%</span>
                                            </div>
                                            <div class="metric">
                                                <span class="metric-label">å¢åˆ è¡Œ</span>
                                                <span class="metric-value">+{{.Additions}}/-{{.Deletions}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {{end}}
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- æ´»åŠ¨æ—¶é—´åˆ†æ -->
            <section id="activity-section" class="content-section">
                <div class="section-header">
                    <h2>â° æ´»åŠ¨æ—¶é—´åˆ†æ</h2>
                    <p>æäº¤æ´»åŠ¨çš„æ—¶é—´æ¨¡å¼å’Œé¢‘ç‡åˆ†æ</p>
                </div>
                <div class="section-content">
                    <!-- æ—¶é—´çº¿å›¾è¡¨ - å…¨å®½æ˜¾ç¤º -->
                    <div class="chart-container full-width">
                        <h3>{{.Messages.CommitTimeline}}</h3>
                        <canvas id="timelineChart"></canvas>
                    </div>
                    
                    <!-- å°æ—¶å’Œæ—¥æ´»è·ƒåº¦ - åŒåˆ—æ˜¾ç¤º -->
                    <div class="charts-grid-2">
                        <div class="chart-container medium">
                            <h3>{{.Messages.HourlyActivity}}</h3>
                            <canvas id="hourlyChart"></canvas>
                        </div>
                        <div class="chart-container medium">
                            <h3>{{.Messages.DailyActivity}}</h3>
                            <canvas id="dailyChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- åˆ†æ”¯ç»“æ„ -->
            <section id="branch-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸŒ² åˆ†æ”¯ç»“æ„</h2>
                    <p>Gitåˆ†æ”¯å’Œæäº¤çš„å¯è§†åŒ–åˆ†æ</p>
                </div>
                <div class="section-content">
                    {{if .Stats.BranchData}}
                    <div class="chart-container full-width commit-forest-container">
                        <h3>ğŸŒ² {{.Messages.CommitForest}}</h3>
                        <div class="forest-controls">
                            <button id="zoomIn" class="forest-btn">ğŸ”+</button>
                            <button id="zoomOut" class="forest-btn">ğŸ”-</button>
                            <button id="resetView" class="forest-btn">âŸ²</button>
                            <select id="branchFilter" class="forest-select">
                                <option value="all">æ‰€æœ‰åˆ†æ”¯</option>
                                {{range .Stats.BranchData.Branches}}
                                <option value="{{.Name}}">{{.Name}} ({{.CommitCount}})</option>
                                {{end}}
                            </select>
                        </div>
                        <svg id="commitForest" class="commit-forest-svg" width="100%" height="500"></svg>
                        <div class="forest-info">
                            <div class="info-panel" id="commitInfo" style="display: none;">
                                <div id="commitDetails"></div>
                            </div>
                        </div>
                    </div>
                    {{else}}
                    <div class="no-data">
                        <p>{{.Messages.NoDataAvailable}}</p>
                    </div>
                    {{end}}
                </div>
            </section>

            <!-- ä»£ç å¥åº· -->
            <section id="health-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ¥ ä»£ç å¥åº·</h2>
                    <p>ä»£ç è´¨é‡è¯„ä¼°ã€æŠ€æœ¯å€ºåŠ¡å’Œé‡æ„å»ºè®®</p>
                </div>
                {{if .CodeHealthMetrics}}
                <div class="health-header">
                    <div class="health-score">
                        <span class="score-label">å¥åº·è¯„åˆ†:</span>
                        <span class="score-value">{{printf "%.0f" (mul .CodeHealthMetrics.HealthScore 100)}}/100</span>
                    </div>
                </div>

                <div class="health-summary">
                    <p>{{.CodeHealthMetrics.HealthSummary}}</p>
                </div>

                <div class="health-cards">
                    {{if .CodeHealthMetrics.TechnicalDebtHotspots}}
                    <div class="health-card tech-debt">
                        <div class="card-header">
                            <span class="card-icon">ğŸ”¥</span>
                            <span class="card-title">æŠ€æœ¯å€ºåŠ¡çƒ­ç‚¹</span>
                            <span class="card-count">{{len .CodeHealthMetrics.TechnicalDebtHotspots}}</span>
                        </div>
                        <div class="card-content">
                            {{range slice .CodeHealthMetrics.TechnicalDebtHotspots 0 5}}
                            <div class="hotspot-item">
                                <div class="hotspot-file">{{.FilePath}}</div>
                                <div class="hotspot-details">
                                    <span class="risk-score">é£é™©: {{printf "%.2f" .RiskScore}}</span>
                                    <span class="mod-count">ä¿®æ”¹: {{.ModificationFreq}}æ¬¡</span>
                                    <span class="reason">{{.Reason}}</span>
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                    {{end}}

                    {{if .CodeHealthMetrics.RefactoringSignals}}
                    <div class="health-card refactor">
                        <div class="card-header">
                            <span class="card-icon">ğŸ”§</span>
                            <span class="card-title">é‡æ„ä¿¡å·</span>
                            <span class="card-count">{{len .CodeHealthMetrics.RefactoringSignals}}</span>
                        </div>
                        <div class="card-content">
                            {{range slice .CodeHealthMetrics.RefactoringSignals 0 5}}
                            <div class="signal-item">
                                <div class="signal-file">{{.FilePath}}</div>
                                <div class="signal-details">
                                    <span class="signal-strength">{{.RefactoringSignal}}ä¿¡å·</span>
                                    <span class="changes-count">{{.ShortTermChanges}}æ¬¡ä¿®æ”¹</span>
                                    <span class="time-window">{{.IntensiveModDays}}å¤©å†…</span>
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                    {{end}}

                    {{if .CodeHealthMetrics.CodeConcentrationIssues}}
                    <div class="health-card concentration">
                        <div class="card-header">
                            <span class="card-icon">âš ï¸</span>
                            <span class="card-title">ä»£ç é›†ä¸­åº¦é—®é¢˜</span>
                            <span class="card-count">{{len .CodeHealthMetrics.CodeConcentrationIssues}}</span>
                        </div>
                        <div class="card-content">
                            {{range slice .CodeHealthMetrics.CodeConcentrationIssues 0 3}}
                            <div class="concentration-item">
                                <div class="concentration-file">{{.FilePath}}</div>
                                <div class="concentration-details">
                                    <span class="concentration-level">{{.ConcentrationLevel}}</span>
                                    <span class="change-ratio">{{printf "%.1f" (mul .ChangeRatio 100)}}%</span>
                                    <span class="total-changes">{{.TotalChanges}}æ¬¡ä¿®æ”¹</span>
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                    {{end}}

                    {{if .CodeHealthMetrics.StabilityIndicators}}
                    <div class="health-card stability">
                        <div class="card-header">
                            <span class="card-icon">ğŸ›¡ï¸</span>
                            <span class="card-title">ç¨³å®šæ€§æŒ‡æ ‡</span>
                            <span class="card-count">{{len .CodeHealthMetrics.StabilityIndicators}}</span>
                        </div>
                        <div class="card-content">
                            {{range slice .CodeHealthMetrics.StabilityIndicators 0 5}}
                            <div class="stability-item">
                                <div class="stability-file">{{.FilePath}}</div>
                                <div class="stability-details">
                                    <span class="stability-level {{.StabilityLevel}}">{{.StabilityLevel}}</span>
                                    <span class="change-rate">å˜åŒ–ç‡: {{printf "%.2f" .ChangeRate}}</span>
                                    <span class="defect-density">ç¼ºé™·å¯†åº¦: {{printf "%.2f" .DefectDensity}}</span>
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                    {{end}}
                </div>
                {{else}}
                <div class="empty-section">
                    <p>ä»£ç å¥åº·åˆ†æåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨</p>
                </div>
                {{end}}
            </section>

            <!-- AI åˆ†æ -->
            <section id="ai-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ¤– AI åˆ†æ</h2>
                    <p>åŸºäºäººå·¥æ™ºèƒ½çš„ä»£ç æ¨¡å¼å’Œå¼€å‘ä¹ æƒ¯åˆ†æ</p>
                </div>
                {{if .AIAnalysis}}
                <div class="ai-analysis-cards">
                    <div class="ai-card analysis">
                        <div class="card-header" onclick="toggleAIAnalysis()">
                            <span class="card-icon">ğŸ§ </span>
                            <span class="card-title">æ™ºèƒ½åˆ†ææŠ¥å‘Š</span>
                            <span class="toggle-icon" id="aiAnalysis-icon">â–¼</span>
                        </div>
                        <div class="card-content" id="aiAnalysis-content">
                            <div class="analysis-loading">
                                <p>ç‚¹å‡»å±•å¼€æŸ¥çœ‹è¯¦ç»†åˆ†æ...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- éšè—çš„åŸå§‹æ•°æ®ï¼Œä¾›JavaScriptè§£æä½¿ç”¨ -->
                <script type="text/plain" id="aiAnalysisData">{{.AIAnalysis}}</script>
                {{else}}
                <div class="empty-section">
                    <p>AIåˆ†æåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥é…ç½®</p>
                </div>
                {{end}}
            </section>

            <!-- ç©ºç™½çš„æœªæ¥åŠŸèƒ½åŒºåŸŸ -->
            
            <!-- è´¨é‡è¯„ä¼° -->
            <section id="quality-section" class="content-section">
                <div class="section-header">
                    <h2>âœ¨ è´¨é‡è¯„ä¼°</h2>
                    <p>å…¨é¢çš„ä»£ç è´¨é‡åˆ†æå’Œè¯„åˆ†ç³»ç»Ÿ</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½å¼€å‘ä¸­</h3>
                        <p>è´¨é‡è¯„ä¼°åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œå°†æä¾›æ›´å…¨é¢çš„ä»£ç è´¨é‡åˆ†æã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ ä»£ç é£æ ¼ä¸€è‡´æ€§æ£€æŸ¥</li>
                            <li>â€¢ å¾ªç¯å¤æ‚åº¦åˆ†æ</li>
                            <li>â€¢ å¯è¯»æ€§è¯„åˆ†</li>
                            <li>â€¢ æ³¨é‡Šè¦†ç›–ç‡ç»Ÿè®¡</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- æŠ€æœ¯å€ºåŠ¡ -->
            <section id="debt-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ”§ æŠ€æœ¯å€ºåŠ¡</h2>
                    <p>æŠ€æœ¯å€ºåŠ¡è¯†åˆ«ã€é‡åŒ–å’Œå¿è¿˜å»ºè®®</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½å¼€å‘ä¸­</h3>
                        <p>æŠ€æœ¯å€ºåŠ¡åˆ†æåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œå¸®åŠ©å›¢é˜Ÿç®¡ç†å’Œå¿è¿˜æŠ€æœ¯å€ºåŠ¡ã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ å€ºåŠ¡çƒ­ç‚¹åœ°å›¾</li>
                            <li>â€¢ å€ºåŠ¡ç´¯ç§¯è¶‹åŠ¿</li>
                            <li>â€¢ å¿è¿˜ä¼˜å…ˆçº§å»ºè®®</li>
                            <li>â€¢ ROI è®¡ç®—å™¨</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- å¼€å‘æ¨¡å¼ -->
            <section id="patterns-section" class="content-section">
                <div class="section-header">
                    <h2>ï¿½ å¼€å‘æ¨¡å¼</h2>
                    <p>æ™ºèƒ½è¯†åˆ«å›¢é˜Ÿå¼€å‘æ¨¡å¼å’Œæœ€ä½³å®è·µ</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½å¼€å‘ä¸­</h3>
                        <p>å¼€å‘æ¨¡å¼åˆ†æåŠŸèƒ½åŸºäºAIç®—æ³•ï¼Œè¯†åˆ«å›¢é˜Ÿçš„å·¥ä½œæ¨¡å¼ã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ æäº¤æ¨¡å¼è¯†åˆ«</li>
                            <li>â€¢ å¼€å‘èŠ‚å¥åˆ†æ</li>
                            <li>â€¢ å·¥ä½œæ—¶é—´åå¥½</li>
                            <li>â€¢ ä¸ªäººé£æ ¼ç”»åƒ</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- åä½œåˆ†æ -->
            <section id="collaboration-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ¤ åä½œåˆ†æ</h2>
                    <p>å›¢é˜Ÿåä½œæ•ˆç‡å’ŒçŸ¥è¯†æµåŠ¨åˆ†æ</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½å¼€å‘ä¸­</h3>
                        <p>åä½œåˆ†æåŠŸèƒ½å°†æ·±å…¥åˆ†æå›¢é˜Ÿåä½œæ¨¡å¼å’Œæ•ˆç‡ã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ åä½œç½‘ç»œå›¾</li>
                            <li>â€¢ çŸ¥è¯†ä¼ æ’­è·¯å¾„</li>
                            <li>â€¢ ä»£ç è¯„å®¡æ•ˆç‡</li>
                            <li>â€¢ è·¨å›¢é˜Ÿåä½œåˆ†æ</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- å®‰å…¨åˆ†æ -->
            <section id="security-section" class="content-section">
                <div class="section-header">
                    <h2>ï¿½ğŸ”’ å®‰å…¨åˆ†æ</h2>
                    <p>ä»£ç å®‰å…¨æ¼æ´æ£€æµ‹å’Œé£é™©è¯„ä¼°</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½è®¡åˆ’ä¸­</h3>
                        <p>å®‰å…¨åˆ†æåŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼Œå°†ä¸ºæ‚¨çš„ä»£ç æä¾›å…¨é¢çš„å®‰å…¨ä¿éšœã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ å®‰å…¨æ¼æ´æ‰«æ</li>
                            <li>â€¢ æ•æ„Ÿä¿¡æ¯æ£€æµ‹</li>
                            <li>â€¢ ä¾èµ–å®‰å…¨åˆ†æ</li>
                            <li>â€¢ å®‰å…¨æœ€ä½³å®è·µå»ºè®®</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- æ€§èƒ½åˆ†æ -->
            <section id="performance-section" class="content-section">
                <div class="section-header">
                    <h2>âš¡ æ€§èƒ½åˆ†æ</h2>
                    <p>ä»£ç æ€§èƒ½çƒ­ç‚¹å’Œä¼˜åŒ–å»ºè®®</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½è®¡åˆ’ä¸­</h3>
                        <p>æ€§èƒ½åˆ†æåŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å’Œä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ æ€§èƒ½çƒ­ç‚¹è¯†åˆ«</li>
                            <li>â€¢ ç®—æ³•å¤æ‚åº¦åˆ†æ</li>
                            <li>â€¢ å†…å­˜ä½¿ç”¨ä¼˜åŒ–</li>
                            <li>â€¢ æ€§èƒ½å›å½’æ£€æµ‹</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- ä¾èµ–åˆ†æ -->
            <section id="dependencies-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ“¦ ä¾èµ–åˆ†æ</h2>
                    <p>é¡¹ç›®ä¾èµ–å…³ç³»å’Œç‰ˆæœ¬ç®¡ç†åˆ†æ</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½è®¡åˆ’ä¸­</h3>
                        <p>ä¾èµ–åˆ†æåŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼Œæä¾›å…¨æ–¹ä½çš„ä¾èµ–ç®¡ç†æ´å¯Ÿã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ ä¾èµ–æ ‘å¯è§†åŒ–</li>
                            <li>â€¢ ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥</li>
                            <li>â€¢ è¿‡æ—¶ä¾èµ–æ£€æµ‹</li>
                            <li>â€¢ è®¸å¯è¯åˆè§„åˆ†æ</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- ç”Ÿäº§åŠ›åˆ†æ -->
            <section id="productivity-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ“Š ç”Ÿäº§åŠ›åˆ†æ</h2>
                    <p>å›¢é˜Ÿå’Œä¸ªäººç”Ÿäº§åŠ›æ·±åº¦åˆ†æ</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½è§„åˆ’ä¸­</h3>
                        <p>ç”Ÿäº§åŠ›åˆ†æåŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼ŒåŸºäºå¤šç»´åº¦æ•°æ®æä¾›ç”Ÿäº§åŠ›æ´å¯Ÿã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ æ•ˆç‡æ³¢åŠ¨åˆ†æ</li>
                            <li>â€¢ ç”Ÿäº§åŠ›è¶‹åŠ¿é¢„æµ‹</li>
                            <li>â€¢ å·¥ä½œè´Ÿè½½å¹³è¡¡åˆ†æ</li>
                            <li>â€¢ ç“¶é¢ˆè¯†åˆ«ä¸å»ºè®®</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- å­¦ä¹ æ›²çº¿ -->
            <section id="learning-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ“š å­¦ä¹ æ›²çº¿</h2>
                    <p>å¼€å‘è€…æˆé•¿è½¨è¿¹å’ŒæŠ€èƒ½å‘å±•åˆ†æ</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½è§„åˆ’ä¸­</h3>
                        <p>å­¦ä¹ æ›²çº¿åˆ†æåŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼Œè¿½è¸ªå¼€å‘è€…çš„æˆé•¿å†ç¨‹ã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ æŠ€èƒ½æˆé•¿è½¨è¿¹</li>
                            <li>â€¢ å­¦ä¹ æ•ˆç‡è¯„ä¼°</li>
                            <li>â€¢ çŸ¥è¯†é¢†åŸŸæ‰©å±•åˆ†æ</li>
                            <li>â€¢ å¯¼å¸ˆå…³ç³»è¯†åˆ«</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- æ—¶é—´è½´çƒ­åŠ›å›¾ -->
            <section id="timeline-section" class="content-section">
                <div class="section-header">
                    <h2>ğŸ“… æ—¶é—´è½´çƒ­åŠ›å›¾</h2>
                    <p>é¡¹ç›®æ´»åŠ¨çš„æ—¶ç©ºåˆ†å¸ƒå¯è§†åŒ–</p>
                </div>
                <div class="empty-section">
                    <div class="coming-soon">
                        <div class="icon">ğŸš§</div>
                        <h3>åŠŸèƒ½è§„åˆ’ä¸­</h3>
                        <p>æ—¶é—´è½´çƒ­åŠ›å›¾åŠŸèƒ½æ­£åœ¨è§„åˆ’ä¸­ï¼Œæä¾›ç›´è§‚çš„æ´»åŠ¨åˆ†å¸ƒè§†å›¾ã€‚</p>
                        <ul class="feature-list">
                            <li>â€¢ äº¤äº’å¼æ—¶é—´è½´</li>
                            <li>â€¢ å¤šç»´åº¦çƒ­åŠ›å›¾</li>
                            <li>â€¢ æ´»åŠ¨å¯†åº¦åˆ†æ</li>
                            <li>â€¢ è¶‹åŠ¿æ¨¡å¼è¯†åˆ«</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>

    <script src="charts.js"></script>
    <script>
        const reportData = {
            authors: {{.TopAuthors | toJSON}},
            hourly: {{.HourlyData | toJSON}},
            daily: {{.DailyData | toJSON}},
            timeline: {{.CommitTimeline | toJSON}},
            files: {{.FileData | toJSON}}
            {{if .Stats.BranchData}},
            branchData: {{.Stats.BranchData | toJSON}}
            {{end}}
        };
        console.log('Report data:', reportData);
        
        // åˆå§‹åŒ–å›¾è¡¨
        initCharts(reportData);
        
        // åˆå§‹åŒ–æ–‡ä»¶æ¡å½¢å›¾ç™¾åˆ†æ¯”
        initFileBarChart();
        
        {{if .Stats.BranchData}}
        // åˆå§‹åŒ–æäº¤æ£®æ—å›¾
        initCommitForest(reportData.branchData);
        {{end}}

        // åˆå§‹åŒ–æ–‡ä»¶æ¡å½¢å›¾ç™¾åˆ†æ¯”æ˜¾ç¤º
        function initFileBarChart() {
            const fileBars = document.querySelectorAll('.file-bar-fill');
            let maxCount = 0;
            
            // æ‰¾åˆ°æœ€å¤§å€¼
            fileBars.forEach(bar => {
                const count = parseInt(bar.getAttribute('data-count'));
                maxCount = Math.max(maxCount, count);
            });
            
            // è®¾ç½®å®½åº¦ç™¾åˆ†æ¯”
            fileBars.forEach(bar => {
                const count = parseInt(bar.getAttribute('data-count'));
                const percentage = maxCount > 0 ? (count / maxCount * 100) : 0;
                bar.style.width = percentage + '%';
            });
        }

        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢åŠŸèƒ½
        function toggleMobileMenu() {
            const sidebar = document.querySelector('.sidebar-floating');
            sidebar.classList.toggle('mobile-open');
            
            // æ·»åŠ ç‚¹å‡»å¤–éƒ¨å…³é—­èœå•åŠŸèƒ½
            if (sidebar.classList.contains('mobile-open')) {
                document.addEventListener('click', closeMobileMenuOnOutsideClick);
            } else {
                document.removeEventListener('click', closeMobileMenuOnOutsideClick);
            }
        }

        function closeMobileMenuOnOutsideClick(event) {
            const sidebar = document.querySelector('.sidebar-floating');
            const toggleButton = document.querySelector('.mobile-menu-toggle');
            
            if (!sidebar.contains(event.target) && !toggleButton.contains(event.target)) {
                sidebar.classList.remove('mobile-open');
                document.removeEventListener('click', closeMobileMenuOnOutsideClick);
            }
        }

        // ä¾§è¾¹æ èœå•åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const menuItems = document.querySelectorAll('.menu-item');
            const sections = document.querySelectorAll('.content-section');

            // å¹³æ»‘æ»šåŠ¨åˆ°ç›®æ ‡section
            function scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }

            // æ›´æ–°æ´»åŠ¨èœå•é¡¹
            function updateActiveMenuItem(activeSection) {
                menuItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('data-section') === activeSection) {
                        item.classList.add('active');
                    }
                });
            }

            // ç‚¹å‡»èœå•é¡¹æ—¶æ»šåŠ¨åˆ°å¯¹åº”section
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (this.classList.contains('disabled')) {
                        return;
                    }

                    const targetSection = this.getAttribute('data-section') + '-section';
                    scrollToSection(targetSection);
                    updateActiveMenuItem(this.getAttribute('data-section'));
                });
            });

            // æ»šåŠ¨æ—¶è‡ªåŠ¨é«˜äº®å¯¹åº”èœå•é¡¹
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;
                        const sectionName = sectionId.replace('-section', '');
                        updateActiveMenuItem(sectionName);
                    }
                });
            }, observerOptions);

            // è§‚å¯Ÿæ‰€æœ‰section
            sections.forEach(section => {
                observer.observe(section);
            });

            // åˆå§‹åŒ–æ—¶è®¾ç½®ç¬¬ä¸€ä¸ªsectionä¸ºæ´»åŠ¨çŠ¶æ€
            if (sections.length > 0) {
                updateActiveMenuItem('overview');
            }
        });
    </script>
</body>
</html>
